# Reference

<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

### Classes

* [`common`](#common): Main common class
* [`common::backup`](#common--backup): Class for managing backup configurations
* [`common::certs`](#common--certs): Class for managing common certificates and CA certificates
* [`common::convenience`](#common--convenience): Class for common convenience utilities
* [`common::cron`](#common--cron): Class for managing cron jobs
* [`common::devices`](#common--devices): Class for managing common::devices
* [`common::extras`](#common--extras): Class for things that does not classify into anything
* [`common::hosts`](#common--hosts): Class for managing host entries
* [`common::logging`](#common--logging): Class for managing common logging configuration
* [`common::lvm`](#common--lvm): Class for managing LVM setup with LV creation
* [`common::mail`](#common--mail): Class for managing common postfix mail setup
* [`common::monitor`](#common--monitor): Class for managing monitoring defaults
* [`common::monitoring`](#common--monitoring): Class for managing common monitoring setup
* [`common::network`](#common--network): Class for managing network configuration
* [`common::package`](#common--package): Class for managing the installation and removal of packages
* [`common::puppet`](#common--puppet): Class for managing Puppet installation and configuration
* [`common::repo`](#common--repo): Class for managing software repositories
* [`common::security`](#common--security): Class for managing security settings including certs and auditd
* [`common::services`](#common--services): Class for managing common services
* [`common::settings`](#common--settings): Class for common settings for per customers
* [`common::setup`](#common--setup): Class for setting up common configurations
* [`common::software`](#common--software): Class for managing common software installation and dependencies
* [`common::storage`](#common--storage): Class for managing storage configurations
* [`common::system`](#common--system): Class for managing common system configuration
* [`common::virtualization`](#common--virtualization): Class for managing virtualized servers

### Defined types

* [`common::mkdir_p`](#common--mkdir_p): Class for providing `mkdir -p` functionality for a directory

## Classes

### <a name="common"></a>`common`

Main common class

#### Parameters

The following parameters are available in the `common` class:

* [`full_host_management`](#-common--full_host_management)
* [`devices`](#-common--devices)
* [`mounts`](#-common--mounts)
* [`filepermissions`](#-common--filepermissions)

##### <a name="-common--full_host_management"></a>`full_host_management`

Data type: `Boolean`

Boolean to enable or disable full host management functionalities. Defaults to true.

Default value: `true`

##### <a name="-common--devices"></a>`devices`

Data type: `Hash`

Hash containing device configurations. Defaults to an empty hash.

Default value: `{}`

##### <a name="-common--mounts"></a>`mounts`

Data type:

```puppet
Hash[Stdlib::Absolutepath,
    Tuple[
      Eit_types::Mount,
      [
        Variant[
          Eit_types::MountLuks,
          Eit_types::MountNfs,
        ]
      ],
    ]
  ]
```

Hash mapping absolute paths to mount points and their types. Defaults to an empty hash.

Default value: `{}`

##### <a name="-common--filepermissions"></a>`filepermissions`

Data type:

```puppet
Hash[Stdlib::Absolutepath,
    Struct[
      {
      mode => Stdlib::Filemode,
      apply_recursively => Boolean,
      }]]
```

Hash specifying file permission settings.

Default value: `{}`

### <a name="common--backup"></a>`common::backup`

Class for managing backup configurations

#### Parameters

The following parameters are available in the `common::backup` class:

* [`manage`](#-common--backup--manage)
* [`install_client`](#-common--backup--install_client)
* [`enable`](#-common--backup--enable)
* [`backup_user`](#-common--backup--backup_user)
* [`dump_dir`](#-common--backup--dump_dir)
* [`backup_user_password`](#-common--backup--backup_user_password)
* [`keep_days`](#-common--backup--keep_days)
* [`backup_window_starthour`](#-common--backup--backup_window_starthour)
* [`backup_window_lasthour`](#-common--backup--backup_window_lasthour)
* [`luks`](#-common--backup--luks)
* [`lukspass`](#-common--backup--lukspass)
* [`luks_service_name`](#-common--backup--luks_service_name)
* [`lvm`](#-common--backup--lvm)
* [`lvm_vg`](#-common--backup--lvm_vg)
* [`lvm_extents_min_required`](#-common--backup--lvm_extents_min_required)
* [`push`](#-common--backup--push)
* [`encrypt_params`](#-common--backup--encrypt_params)

##### <a name="-common--backup--manage"></a>`manage`

Data type: `Boolean`

Whether to manage the backup setup. Defaults to true.

Default value: `true`

##### <a name="-common--backup--install_client"></a>`install_client`

Data type: `Boolean`

Whether to install the backup client. Defaults to false.

Default value: `false`

##### <a name="-common--backup--enable"></a>`enable`

Data type: `Boolean`

Whether to enable the backup. Defaults to false.

Default value: `false`

##### <a name="-common--backup--backup_user"></a>`backup_user`

Data type: `Eit_types::User`

The user account used for backups. Defaults to 'obmondo-backup'.

Default value: `'obmondo-backup'`

##### <a name="-common--backup--dump_dir"></a>`dump_dir`

Data type: `Optional[Stdlib::Absolutepath]`

The directory for dumps. Defaults to undef.

Default value: `undef`

##### <a name="-common--backup--backup_user_password"></a>`backup_user_password`

Data type: `Optional[Eit_types::Password]`

The password for the backup user. Defaults to undef.

Default value: `undef`

##### <a name="-common--backup--keep_days"></a>`keep_days`

Data type: `Optional[Integer]`

Number of days to keep backups. Defaults to 30.

Default value: `30`

##### <a name="-common--backup--backup_window_starthour"></a>`backup_window_starthour`

Data type: `Optional[Integer[0,23]]`

The start hour for backup window (0-23). Defaults to undef.

Default value: `undef`

##### <a name="-common--backup--backup_window_lasthour"></a>`backup_window_lasthour`

Data type: `Optional[Integer[0,23]]`

The end hour for backup window (0-23). Defaults to undef.

Default value: `undef`

##### <a name="-common--backup--luks"></a>`luks`

Data type: `Optional[Boolean]`

Whether to enable LUKS encryption. Defaults to undef.

Default value: `undef`

##### <a name="-common--backup--lukspass"></a>`lukspass`

Data type: `Optional[String]`

The LUKS passphrase. Defaults to undef.

Default value: `undef`

##### <a name="-common--backup--luks_service_name"></a>`luks_service_name`

Data type: `Optional[String]`

The service name that manages LUKS. Defaults to undef.

Default value: `undef`

##### <a name="-common--backup--lvm"></a>`lvm`

Data type: `Optional[Boolean]`

Whether to enable LVM. Defaults to undef.

Default value: `undef`

##### <a name="-common--backup--lvm_vg"></a>`lvm_vg`

Data type: `Optional[String]`

The LVM volume group name. Defaults to undef.

Default value: `undef`

##### <a name="-common--backup--lvm_extents_min_required"></a>`lvm_extents_min_required`

Data type: `Eit_types::Percentage`

The minimum required LVM extents percentage. Defaults to 15.

Default value: `15`

##### <a name="-common--backup--push"></a>`push`

Data type:

```puppet
Hash[
    String,
    Struct[
      {
      target      => Eit_types::Host,
      source      => Stdlib::Absolutepath,
      destination => Stdlib::Absolutepath,
      keep_time   => Pattern[/[0-9]+[DMWY]/],
      hour        => Eit_types::TimeHour,
      email       => Optional[Eit_types::Email],
      exclude     => Array[Variant[Stdlib::Absolutepath,String]],
  }]]
```

A hash for push configurations. Defaults to empty hash.

Default value: `{}`

##### <a name="-common--backup--encrypt_params"></a>`encrypt_params`

Data type: `Eit_types::Encrypt::Params`

The list of params, which needs to be encrypted

Default value: `['backup_user_password']`

### <a name="common--certs"></a>`common::certs`

Class for managing common certificates and CA certificates

#### Parameters

The following parameters are available in the `common::certs` class:

* [`__base_dir`](#-common--certs--__base_dir)
* [`manual`](#-common--certs--manual)
* [`ca_certs`](#-common--certs--ca_certs)
* [`encrypt_params`](#-common--certs--encrypt_params)

##### <a name="-common--certs--__base_dir"></a>`__base_dir`

Data type: `Stdlib::Absolutepath`

The absolute path to the base directory. This parameter is mandatory.

##### <a name="-common--certs--manual"></a>`manual`

Data type:

```puppet
Hash[Stdlib::Fqdn, Struct[{
      key   => String,
      cert  => String,
      ca    => Optional[String],
      ports => Optional[Array[Stdlib::Port]],
  }]]
```

A hash of manual certificates with domain names as keys and corresponding certificate details as values. Defaults to empty hash.

Default value: `{}`

##### <a name="-common--certs--ca_certs"></a>`ca_certs`

Data type:

```puppet
Hash[String, Struct[{
      source => String,
  }]]
```

A hash of CA certificates with names as keys and their parameters as values. Defaults to empty hash.

Default value: `{}`

##### <a name="-common--certs--encrypt_params"></a>`encrypt_params`

Data type: `Eit_types::Encrypt::Params`

The list of params, which needs to be encrypted

Default value:

```puppet
[
    'manual.*.key',
    'manual.*.cert',
    'manual.*.ca',
  ]
```

### <a name="common--convenience"></a>`common::convenience`

Class for common convenience utilities

### <a name="common--cron"></a>`common::cron`

Class for managing cron jobs

#### Parameters

The following parameters are available in the `common::cron` class:

* [`purge_unmanaged`](#-common--cron--purge_unmanaged)
* [`jobs`](#-common--cron--jobs)

##### <a name="-common--cron--purge_unmanaged"></a>`purge_unmanaged`

Data type: `Variant[Boolean, Enum['root-only']]`

Whether to purge unmanaged jobs. Can be a boolean or 'root-only'. Defaults to false.

Default value: `false`

##### <a name="-common--cron--jobs"></a>`jobs`

Data type: `Hash`

Hash of jobs to configure. Defaults to an empty hash.

Default value: `{}`

### <a name="common--devices"></a>`common::devices`

Class for managing common::devices

#### Parameters

The following parameters are available in the `common::devices` class:

* [`devices`](#-common--devices--devices)
* [`encrypted_devices`](#-common--devices--encrypted_devices)
* [`filesystems`](#-common--devices--filesystems)

##### <a name="-common--devices--devices"></a>`devices`

Data type: `Hash`

Hash of device configurations. Defaults to empty hash.

Default value: `{}`

##### <a name="-common--devices--encrypted_devices"></a>`encrypted_devices`

Data type: `Hash`

Hash of encrypted device configurations. Defaults to empty hash.

Default value: `{}`

##### <a name="-common--devices--filesystems"></a>`filesystems`

Data type: `Hash`

Hash of filesystem configurations. Defaults to empty hash.

Default value: `{}`

### <a name="common--extras"></a>`common::extras`

Class for things that does not classify into anything

#### Parameters

The following parameters are available in the `common::extras` class:

* [`manage`](#-common--extras--manage)

##### <a name="-common--extras--manage"></a>`manage`

Data type: `Boolean`

Boolean parameter to determine if computing management should be included. Defaults to false.

Default value: `false`

### <a name="common--hosts"></a>`common::hosts`

Class for managing host entries

#### Parameters

The following parameters are available in the `common::hosts` class:

* [`entries`](#-common--hosts--entries)

##### <a name="-common--hosts--entries"></a>`entries`

Data type:

```puppet
Hash[
    Eit_types::IP,
    Variant[
      Struct[
        {
          ensure       => Optional[Boolean],
          host_aliases => Array,
        }
      ],
      Array,
    ]
  ]
```

A hash of IP addresses mapped to host entries. Defaults to an empty hash.

Default value: `{}`

### <a name="common--logging"></a>`common::logging`

Whether to manage logging components. Defaults to true.

#### Parameters

The following parameters are available in the `common::logging` class:

* [`manage`](#-common--logging--manage)
* [`log_dir_group`](#-common--logging--log_dir_group)
* [`log_dir_mode`](#-common--logging--log_dir_mode)

##### <a name="-common--logging--manage"></a>`manage`

Data type: `Boolean`



Default value: `true`

##### <a name="-common--logging--log_dir_group"></a>`log_dir_group`

Data type: `Optional[Eit_types::Group]`

Optional group for log directory permissions.

Default value: `undef`

##### <a name="-common--logging--log_dir_mode"></a>`log_dir_mode`

Data type: `Stdlib::Filemode`

Mode for the log directory. Defaults to '0755'.

Default value: `'0755'`

### <a name="common--lvm"></a>`common::lvm`

The hash keys are the LV names, and the values are hashes with the following keys:
  - ensure: Ensure state for the LV, such as present or absent.
  - vg_name: Name of the volume group.
  - pv_name: (Optional) Physical volume path.
  - fs_type: Filesystem type for the LV.
  - lv_size: Size of the logical volume.

#### Parameters

The following parameters are available in the `common::lvm` class:

* [`lvs`](#-common--lvm--lvs)

##### <a name="-common--lvm--lvs"></a>`lvs`

Data type:

```puppet
Hash[String, Struct[{
    ensure  => Eit_types::Ensure,
    vg_name => String,
    pv_name => Optional[Stdlib::Absolutepath],
    fs_type => Eit_types::FilesystemType,
    lv_size => String,
    }]
  ]
```

Hash of Logical Volumes to manage.

Default value: `{}`

### <a name="common--mail"></a>`common::mail`

Class for managing common postfix mail setup

#### Parameters

The following parameters are available in the `common::mail` class:

* [`manage`](#-common--mail--manage)
* [`inet_interfaces`](#-common--mail--inet_interfaces)
* [`myhostname`](#-common--mail--myhostname)
* [`mydomain`](#-common--mail--mydomain)
* [`relayhost`](#-common--mail--relayhost)
* [`smtp_sasl_auth`](#-common--mail--smtp_sasl_auth)
* [`smtp_sasl_password_maps`](#-common--mail--smtp_sasl_password_maps)
* [`smtp_sasl_security_options`](#-common--mail--smtp_sasl_security_options)
* [`default_destination_concurrency_limit`](#-common--mail--default_destination_concurrency_limit)
* [`soft_bounce`](#-common--mail--soft_bounce)
* [`smtp_connection_cache_destinations`](#-common--mail--smtp_connection_cache_destinations)
* [`smtp_tls_security_level`](#-common--mail--smtp_tls_security_level)
* [`smtp_tls_loglevel`](#-common--mail--smtp_tls_loglevel)
* [`smtpd_tls_auth_only`](#-common--mail--smtpd_tls_auth_only)
* [`tls_ssl_options`](#-common--mail--tls_ssl_options)
* [`smtpd_tls_protocols`](#-common--mail--smtpd_tls_protocols)
* [`smtpd_tls_mandatory_protocols`](#-common--mail--smtpd_tls_mandatory_protocols)
* [`smtpd_tls_mandatory_ciphers`](#-common--mail--smtpd_tls_mandatory_ciphers)
* [`smtpd_tls_eecdh_grade`](#-common--mail--smtpd_tls_eecdh_grade)
* [`tls_preempt_cipherlist`](#-common--mail--tls_preempt_cipherlist)
* [`tls_high_cipherlist`](#-common--mail--tls_high_cipherlist)
* [`stats_daemon_port`](#-common--mail--stats_daemon_port)
* [`run_newaliases`](#-common--mail--run_newaliases)
* [`aliases`](#-common--mail--aliases)
* [`_extra_main_parameters`](#-common--mail--_extra_main_parameters)
* [`maildrop_perms`](#-common--mail--maildrop_perms)
* [`noop_value`](#-common--mail--noop_value)

##### <a name="-common--mail--manage"></a>`manage`

Data type: `Boolean`

Boolean flag to manage the mail configuration. Defaults to false.

Default value: `false`

##### <a name="-common--mail--inet_interfaces"></a>`inet_interfaces`

Data type:

```puppet
Variant[
    Eit_types::IP,
    Enum['all', 'localhost']
  ]
```

The network interfaces. Defaults to 'localhost'.

Default value: `'localhost'`

##### <a name="-common--mail--myhostname"></a>`myhostname`

Data type: `Eit_types::Hostname`

The server's hostname.

##### <a name="-common--mail--mydomain"></a>`mydomain`

Data type: `Optional[Eit_types::Domain]`

Optional domain name.

##### <a name="-common--mail--relayhost"></a>`relayhost`

Data type: `Optional[Eit_types::Host]`

Optional relay host. Defaults to undef.

Default value: `undef`

##### <a name="-common--mail--smtp_sasl_auth"></a>`smtp_sasl_auth`

Data type: `Boolean`

Boolean to enable SMTP SASL authentication. Defaults to false.

Default value: `false`

##### <a name="-common--mail--smtp_sasl_password_maps"></a>`smtp_sasl_password_maps`

Data type: `Optional[String]`

Optional SMTP SASL password maps. Defaults to undef.

Default value: `undef`

##### <a name="-common--mail--smtp_sasl_security_options"></a>`smtp_sasl_security_options`

Data type: `Optional[String]`

Optional SMTP SASL security options. Defaults to undef.

Default value: `undef`

##### <a name="-common--mail--default_destination_concurrency_limit"></a>`default_destination_concurrency_limit`

Data type: `Integer[0, default]`

Maximum number of concurrent delivery attempts. Defaults to 20.

Default value: `20`

##### <a name="-common--mail--soft_bounce"></a>`soft_bounce`

Data type: `Boolean`

Boolean to enable soft bounce. Defaults to false.

Default value: `false`

##### <a name="-common--mail--smtp_connection_cache_destinations"></a>`smtp_connection_cache_destinations`

Data type: `Array[String]`

Array of destinations for SMTP connection caching. Defaults to empty array.

Default value: `[]`

##### <a name="-common--mail--smtp_tls_security_level"></a>`smtp_tls_security_level`

Data type: `Eit_types::Postfix_Security_Level`

TLS security level. Defaults to 'encrypt'.

Default value: `'encrypt'`

##### <a name="-common--mail--smtp_tls_loglevel"></a>`smtp_tls_loglevel`

Data type: `Integer[0]`

TLS log level. Defaults to 1.

Default value: `1`

##### <a name="-common--mail--smtpd_tls_auth_only"></a>`smtpd_tls_auth_only`

Data type: `Enum['yes', 'no']`

Whether TLS authentication is required. Defaults to 'yes'.

Default value: `'yes'`

##### <a name="-common--mail--tls_ssl_options"></a>`tls_ssl_options`

Data type: `String`

SSL options for TLS. Defaults to 'NO_COMPRESSION'.

Default value: `'NO_COMPRESSION'`

##### <a name="-common--mail--smtpd_tls_protocols"></a>`smtpd_tls_protocols`

Data type: `String`

TLS protocols for SMTP daemon. Defaults to '!SSLv2,!SSLv3'.

Default value: `'!SSLv2,!SSLv3'`

##### <a name="-common--mail--smtpd_tls_mandatory_protocols"></a>`smtpd_tls_mandatory_protocols`

Data type: `String`

Mandatory TLS protocols. Defaults to '!SSLv2,!SSLv3'.

Default value: `'!SSLv2,!SSLv3'`

##### <a name="-common--mail--smtpd_tls_mandatory_ciphers"></a>`smtpd_tls_mandatory_ciphers`

Data type: `String`

Ciphers for mandatory TLS. Defaults to 'high'.

Default value: `'high'`

##### <a name="-common--mail--smtpd_tls_eecdh_grade"></a>`smtpd_tls_eecdh_grade`

Data type: `String`

ECDH grade for TLS. Defaults to 'ultra'.

Default value: `'ultra'`

##### <a name="-common--mail--tls_preempt_cipherlist"></a>`tls_preempt_cipherlist`

Data type: `String`

Whether to preempt cipher list. Defaults to 'yes'.

Default value: `'yes'`

##### <a name="-common--mail--tls_high_cipherlist"></a>`tls_high_cipherlist`

Data type: `String`

Cipher list for high security cipher suites. Defaults to a long cipher string.

Default value: `'EDH+CAMELLIA:EDH+aRSA:EECDH+aRSA+AESGCM:EECDH+aRSA+SHA384:EECDH+aRSA+SHA256:EECDH:+CAMELLIA256:+AES256:+CAMELLIA128:+AES128:+SSLv3:!aNULL:!eNULL:!LOW:!3DES:!MD5:!EXP:!PSK:!DSS:!RC4:!SEED:!ECDSA:CAMELLIA256-SHA:AES256-SHA:CAMELLIA128-SHA:AES128-SHA'`

##### <a name="-common--mail--stats_daemon_port"></a>`stats_daemon_port`

Data type: `Stdlib::Port`

Port for stats daemon. Defaults to 63777.

Default value: `63777`

##### <a name="-common--mail--run_newaliases"></a>`run_newaliases`

Data type: `Boolean`

Boolean to run `newaliases`. Defaults to true.

Default value: `true`

##### <a name="-common--mail--aliases"></a>`aliases`

Data type: `Hash[String, String]`

Hash of mail aliases. Defaults to empty hash.

Default value: `{}`

##### <a name="-common--mail--_extra_main_parameters"></a>`_extra_main_parameters`

Data type: `Hash[String, String]`

Additional parameters for main config. Defaults to empty hash.

Default value: `{}`

##### <a name="-common--mail--maildrop_perms"></a>`maildrop_perms`

Data type: `Variant[Stdlib::Filemode,String]`

Permissions for maildrop directory. Defaults to 'u+rwX,g-r,g+wX'.

Default value: `'u+rwX,g-r,g+wX'`

##### <a name="-common--mail--noop_value"></a>`noop_value`

Data type: `Optional[Boolean]`

Optional noop value. Defaults to undef.

Default value: `undef`

### <a name="common--monitor"></a>`common::monitor`

Class for managing monitoring defaults

#### Parameters

The following parameters are available in the `common::monitor` class:

* [`enable`](#-common--monitor--enable)

##### <a name="-common--monitor--enable"></a>`enable`

Data type: `Boolean`

Whether to enable monitoring. Defaults to the value of $::obmondo_monitoring_status.

Default value: `$::obmondo_monitoring_status`

### <a name="common--monitoring"></a>`common::monitoring`

Class for managing common monitoring setup

#### Parameters

The following parameters are available in the `common::monitoring` class:

* [`manage`](#-common--monitoring--manage)

##### <a name="-common--monitoring--manage"></a>`manage`

Data type: `Boolean`

Whether to enable managing monitoring components. Defaults to true.

Default value: `true`

### <a name="common--network"></a>`common::network`

Array of package names required for networking.

#### Parameters

The following parameters are available in the `common::network` class:

* [`service_name`](#-common--network--service_name)
* [`manage`](#-common--network--manage)
* [`purge`](#-common--network--purge)
* [`restart_on_change`](#-common--network--restart_on_change)
* [`ipaddress_package`](#-common--network--ipaddress_package)
* [`ipaddress_provider`](#-common--network--ipaddress_provider)
* [`interfaces`](#-common--network--interfaces)
* [`bonded_interfaces`](#-common--network--bonded_interfaces)
* [`routes`](#-common--network--routes)
* [`$__required_packages`](#-common--network---__required_packages)
* [`__required_packages`](#-common--network--__required_packages)

##### <a name="-common--network--service_name"></a>`service_name`

Data type:

```puppet
Enum[
    'systemd-networkd',
    'network',
    'networking'
  ]
```

The network service to manage. Must be one of 'systemd-networkd', 'network', or 'networking'.

##### <a name="-common--network--manage"></a>`manage`

Data type: `Boolean`

Boolean indicating whether to manage the network interfaces. Defaults to false.

Default value: `false`

##### <a name="-common--network--purge"></a>`purge`

Data type: `Boolean`

Boolean indicating whether to purge unmanaged network configs. Defaults to true.

Default value: `true`

##### <a name="-common--network--restart_on_change"></a>`restart_on_change`

Data type: `Boolean`

Boolean indicating whether to restart network service on config change. Defaults to true.

Default value: `true`

##### <a name="-common--network--ipaddress_package"></a>`ipaddress_package`

Data type: `String`

The package name for IP addressing tools. Defaults to undef.

Default value: `undef`

##### <a name="-common--network--ipaddress_provider"></a>`ipaddress_provider`

Data type: `String`

The provider for IP address management. Defaults to undef.

Default value: `undef`

##### <a name="-common--network--interfaces"></a>`interfaces`

Data type:

```puppet
Hash[Pattern[/^[:a-z0-9]+$/],Struct[{
    family    => Optional[Enum['inet']],
    ipaddress => Optional[Stdlib::IP::Address],
    netmask   => Optional[Stdlib::IP::Address],
    method    => Optional[Enum['static', 'dhcp']],
    onboot    => Optional[Boolean],
    gateway   => Optional[Stdlib::IP::Address], # only when its systemd-networkd
  }]]
```

Hash of interface configurations.

Default value: `{}`

##### <a name="-common--network--bonded_interfaces"></a>`bonded_interfaces`

Data type: `Hash`

Hash of bonded interface configurations.

Default value: `{}`

##### <a name="-common--network--routes"></a>`routes`

Data type:

```puppet
Hash[Pattern[/^[a-z0-9]+$/],Struct[{
    gateway => Stdlib::IP::Address,
    network => Pattern[/^[a-z0-9]+$/],
    netmask => Stdlib::IP::Address,
    interface  => Pattern[/^[a-z0-9]+$/],
  }]]
```

Hash of routing configurations.

Default value: `{}`

##### <a name="-common--network---__required_packages"></a>`$__required_packages`



##### <a name="-common--network--__required_packages"></a>`__required_packages`

Data type: `Array[String]`



Default value: `[]`

### <a name="common--package"></a>`common::package`

Class for managing the installation and removal of packages

#### Parameters

The following parameters are available in the `common::package` class:

* [`install_default_packages`](#-common--package--install_default_packages)
* [`manage`](#-common--package--manage)
* [`default_packages`](#-common--package--default_packages)
* [`removed_packages`](#-common--package--removed_packages)
* [`required_packages`](#-common--package--required_packages)

##### <a name="-common--package--install_default_packages"></a>`install_default_packages`

Data type: `Boolean`

Boolean to determine whether to install default packages. Defaults to false.

Default value: `false`

##### <a name="-common--package--manage"></a>`manage`

Data type:

```puppet
Hash[
    String,
    Struct[{
      ensure => Optional[Stdlib::Ensure::Package],
      noop   => Optional[Boolean],
      pin    => Optional[String],
    }]
  ]
```

Hash mapping package names to options for managing them.

Default value: `{}`

##### <a name="-common--package--default_packages"></a>`default_packages`

Data type: `Array[String]`

Array of package names to install by default.

Default value: `[]`

##### <a name="-common--package--removed_packages"></a>`removed_packages`

Data type: `Array[String]`

Array of package names to remove.

Default value: `[]`

##### <a name="-common--package--required_packages"></a>`required_packages`

Data type: `Array[String]`

Array of package names that are required to be installed.

Default value: `[]`

### <a name="common--puppet"></a>`common::puppet`

Class for managing Puppet installation and configuration

#### Parameters

The following parameters are available in the `common::puppet` class:

* [`version`](#-common--puppet--version)
* [`server`](#-common--puppet--server)
* [`server_port`](#-common--puppet--server_port)
* [`configure_agent`](#-common--puppet--configure_agent)
* [`setup_agent`](#-common--puppet--setup_agent)
* [`config_file`](#-common--puppet--config_file)
* [`run_agent_as_noop`](#-common--puppet--run_agent_as_noop)
* [`extra_main_settings`](#-common--puppet--extra_main_settings)
* [`environment`](#-common--puppet--environment)

##### <a name="-common--puppet--version"></a>`version`

Data type: `Eit_types::Version`

The Puppet version to install. The default is the type Eit_types::Version.

##### <a name="-common--puppet--server"></a>`server`

Data type: `Stdlib::Host`

The hostname or IP address of the Puppet server.

##### <a name="-common--puppet--server_port"></a>`server_port`

Data type: `Stdlib::Port`

The port number for the Puppet server. Defaults to 443.

Default value: `443`

##### <a name="-common--puppet--configure_agent"></a>`configure_agent`

Data type: `Boolean`

Whether to configure the Puppet agent. Defaults to true.

Default value: `true`

##### <a name="-common--puppet--setup_agent"></a>`setup_agent`

Data type: `Boolean`

Whether to set up the Puppet agent. Defaults to true.

Default value: `true`

##### <a name="-common--puppet--config_file"></a>`config_file`

Data type: `Stdlib::Absolutepath`

The path to the Puppet configuration file. Defaults to `$facts['puppet_config']`.

Default value: `$facts['puppet_config']`

##### <a name="-common--puppet--run_agent_as_noop"></a>`run_agent_as_noop`

Data type: `Boolean`

Whether to run the Puppet agent in noop mode. Defaults to true.

Default value: `true`

##### <a name="-common--puppet--extra_main_settings"></a>`extra_main_settings`

Data type: `Optional[Hash]`

Optional hash of extra settings for the main Puppet configuration. Defaults to undef.

Default value: `undef`

##### <a name="-common--puppet--environment"></a>`environment`

Data type: `String`

The Puppet environment to use. Defaults to 'master'.

Default value: `'master'`

### <a name="common--repo"></a>`common::repo`

]] - Specific zypper repository configurations. Defaults to empty hash.

The protocol to use for sources. Defaults to 'https'.

#### Parameters

The following parameters are available in the `common::repo` class:

* [`manage`](#-common--repo--manage)
* [`noop_value`](#-common--repo--noop_value)
* [`repos`](#-common--repo--repos)
* [`rhrepos`](#-common--repo--rhrepos)
* [`yumrepos`](#-common--repo--yumrepos)
* [`zypprepos`](#-common--repo--zypprepos)
* [`aptrepos`](#-common--repo--aptrepos)
* [`purge`](#-common--repo--purge)
* [`upstream`](#-common--repo--upstream)
* [`source_protocol`](#-common--repo--source_protocol)
* [`local`](#-common--repo--local)
* [`domain`](#-common--repo--domain)
* [`snapshot`](#-common--repo--snapshot)

##### <a name="-common--repo--manage"></a>`manage`

Data type: `Boolean`

Boolean - If true, will manage the apt.conf/yum.conf file and set up default configs. Defaults to true.

Default value: `true`

##### <a name="-common--repo--noop_value"></a>`noop_value`

Data type: `Optional[Boolean]`

Optional[Boolean] - Specify whether to perform actions in noop mode. Defaults to undef.

Default value: `undef`

##### <a name="-common--repo--repos"></a>`repos`

Data type:

```puppet
Array[
    Variant[
      String,
      Hash
    ]
  ]
```

Array[Variant[String, Hash]] - List of repositories to manage. Defaults to empty array.

Default value: `[]`

##### <a name="-common--repo--rhrepos"></a>`rhrepos`

Data type: `Array`

Array[String] - List of RedHat repositories to manage. Defaults to empty array.

Default value: `[]`

##### <a name="-common--repo--yumrepos"></a>`yumrepos`

Data type: `Hash[String, Hash]`

Hash[String, Hash] - Specific yum repository configurations. Defaults to empty hash.

Default value: `{}`

##### <a name="-common--repo--zypprepos"></a>`zypprepos`

Data type: `Hash[String, Hash]`

Hash[String, Struct[
{
  url           => String,
  repos         => Optional[String],
  gpgkey        => Optional[String],
  gpgcontent    => Optional[String],
  autorefresh  => Boolean,
  type          => String,
  path          => String,
  keeppackages => Boolean,
}

Default value: `{}`

##### <a name="-common--repo--aptrepos"></a>`aptrepos`

Data type:

```puppet
Hash[String, Struct[
    {
    url         => String,
    repos       => Optional[String],
    key_content => Optional[String[1]],
    key_source  => Optional[Stdlib::Filesource],
    }]]
```

Hash[String, Hash] - Specific apt repository configurations. Defaults to empty hash.

Default value: `{}`

##### <a name="-common--repo--purge"></a>`purge`

Data type: `Boolean`

Boolean - If true, will purge existing repositories. Defaults to false.

Default value: `false`

##### <a name="-common--repo--upstream"></a>`upstream`

Data type: `Boolean`

Boolean - If true, will set up upstream repositories. Defaults to false.

Default value: `false`

##### <a name="-common--repo--source_protocol"></a>`source_protocol`

Data type: `Enum['http', 'https']`

Enum['http', 'https']

Default value: `'https'`

##### <a name="-common--repo--local"></a>`local`

Data type: `Boolean`

Boolean - If true, sets up local repositories. Defaults to false.

Default value: `false`

##### <a name="-common--repo--domain"></a>`domain`

Data type: `Optional[Stdlib::Fqdn]`

Optional[Stdlib::Fqdn] - The domain for local or remote repositories. Defaults to undef.

Default value: `undef`

##### <a name="-common--repo--snapshot"></a>`snapshot`

Data type: `Optional[Eit_types::Date]`

Optional[Eit_types::Date] - Date for snapshot repositories. Defaults to undef.

Default value: `undef`

### <a name="common--security"></a>`common::security`

Class for managing security settings including certs and auditd

#### Parameters

The following parameters are available in the `common::security` class:

* [`manage`](#-common--security--manage)

##### <a name="-common--security--manage"></a>`manage`

Data type: `Boolean`

Boolean flag to enable or disable security management. Defaults to true.

Default value: `true`

### <a name="common--services"></a>`common::services`

Class for managing common services

#### Parameters

The following parameters are available in the `common::services` class:

* [`manage`](#-common--services--manage)
* [`systemd`](#-common--services--systemd)
* [`initscript`](#-common--services--initscript)
* [`disabled_services`](#-common--services--disabled_services)

##### <a name="-common--services--manage"></a>`manage`

Data type: `Boolean`

Boolean indicating whether to manage services. Defaults to false.

Default value: `false`

##### <a name="-common--services--systemd"></a>`systemd`

Data type: `Hash`

Hash of systemd service configurations. Defaults to {}.

Default value: `{}`

##### <a name="-common--services--initscript"></a>`initscript`

Data type: `Hash`

Hash of initscript service configurations. Defaults to {}.

Default value: `{}`

##### <a name="-common--services--disabled_services"></a>`disabled_services`

Data type: `Array[Eit_types::SimpleString]`

Array of services to be disabled. Defaults to an empty array.

Default value: `[]`

### <a name="common--settings"></a>`common::settings`

Class for common settings for per customers

#### Parameters

The following parameters are available in the `common::settings` class:

* [`pgp_keyserver`](#-common--settings--pgp_keyserver)
* [`custom_config_dir`](#-common--settings--custom_config_dir)
* [`publicips`](#-common--settings--publicips)
* [`pgp_key_ids`](#-common--settings--pgp_key_ids)

##### <a name="-common--settings--pgp_keyserver"></a>`pgp_keyserver`

Data type: `Eit_types::Hostname`

The PGP keyserver hostname or URL.

##### <a name="-common--settings--custom_config_dir"></a>`custom_config_dir`

Data type: `Stdlib::Absolutepath`

The absolute path to the custom configuration directory.

##### <a name="-common--settings--publicips"></a>`publicips`

Data type: `Optional[Array[Eit_types::IP]]`

Optional array of IPs for public interfaces. Defaults to undef.

Default value: `undef`

##### <a name="-common--settings--pgp_key_ids"></a>`pgp_key_ids`

Data type: `Array[Eit_types::Gpg_key_id]`

Array of GPG key IDs. Defaults to an empty array.

Default value: `[]`

### <a name="common--setup"></a>`common::setup`

Class for setting up common configurations

#### Parameters

The following parameters are available in the `common::setup` class:

* [`noop_value`](#-common--setup--noop_value)

##### <a name="-common--setup--noop_value"></a>`noop_value`

Data type: `Boolean`

Boolean value to control noop execution mode. Defaults to false.

Default value: `false`

### <a name="common--software"></a>`common::software`

Class for managing common software installation and dependencies

### <a name="common--storage"></a>`common::storage`

Class for managing storage configurations

#### Parameters

The following parameters are available in the `common::storage` class:

* [`mounts`](#-common--storage--mounts)

##### <a name="-common--storage--mounts"></a>`mounts`

Data type: `Eit_types::Common::Storage::Mounts`

Hash of mounts configurations. Defaults to an empty hash.

Default value: `{}`

### <a name="common--system"></a>`common::system`

Class for managing common system configuration

#### Parameters

The following parameters are available in the `common::system` class:

* [`remove_fstrim_cron`](#-common--system--remove_fstrim_cron)
* [`purge_root_ssh_keys`](#-common--system--purge_root_ssh_keys)
* [`ssh_authorized_keys`](#-common--system--ssh_authorized_keys)
* [`users`](#-common--system--users)
* [`user_groups`](#-common--system--user_groups)
* [`groups`](#-common--system--groups)
* [`services`](#-common--system--services)
* [`files`](#-common--system--files)
* [`disable_ipv6`](#-common--system--disable_ipv6)
* [`service_oneshot`](#-common--system--service_oneshot)
* [`locations`](#-common--system--locations)
* [`encrypt_params`](#-common--system--encrypt_params)

##### <a name="-common--system--remove_fstrim_cron"></a>`remove_fstrim_cron`

Data type: `Boolean`

Boolean indicating whether to remove the fstrim cron job. Defaults to false.

Default value: `false`

##### <a name="-common--system--purge_root_ssh_keys"></a>`purge_root_ssh_keys`

Data type: `Boolean`

Boolean indicating whether to purge SSH keys for the root user. Defaults to true.

Default value: `true`

##### <a name="-common--system--ssh_authorized_keys"></a>`ssh_authorized_keys`

Data type: `Eit_types::Ssh_authorized_keys`

Hash of SSH authorized keys with parameters such as 'key', 'user', 'options', 'noop_value'. Defaults to {}.

Default value: `{}`

##### <a name="-common--system--users"></a>`users`

Data type: `Eit_types::Users`

Hash of user resources, keyed by username, with user parameters. Defaults to {}.

Default value: `{}`

##### <a name="-common--system--user_groups"></a>`user_groups`

Data type: `Hash[String,Array[String]]`

Hash mapping usernames to array of groups they should belong to. Defaults to {}.

Default value: `{}`

##### <a name="-common--system--groups"></a>`groups`

Data type: `Hash[String,Hash]`

Hash of group resources with parameters. Defaults to {}.

Default value: `{}`

##### <a name="-common--system--services"></a>`services`

Data type: `Hash[String, Hash]`

Hash of service configurations. Defaults to {}.

Default value: `{}`

##### <a name="-common--system--files"></a>`files`

Data type: `Hash[String,Hash]`

Hash of file resources with parameters. Defaults to {}.

Default value: `{}`

##### <a name="-common--system--disable_ipv6"></a>`disable_ipv6`

Data type: `Optional[Boolean]`

Optional Boolean to disable IPv6. Defaults to undef.

Default value: `undef`

##### <a name="-common--system--service_oneshot"></a>`service_oneshot`

Data type:

```puppet
Optional[Hash[String, Struct[{
    content => Stdlib::Base64,
  }]]]
```

Optional Hash mapping service names to their content for one-shot services. Defaults to {}.

Default value: `{}`

##### <a name="-common--system--locations"></a>`locations`

Data type: `Hash[String, Array[Stdlib::IP::Address::V4]]`

Hash mapping location names to arrays of IP addresses or IP ranges for location detection. Defaults to {}.

Default value: `{}`

##### <a name="-common--system--encrypt_params"></a>`encrypt_params`

Data type: `Eit_types::Encrypt::Params`

The list of params, which needs to be encrypted

Default value: `['ssh_authorized_keys.*.key']`

### <a name="common--virtualization"></a>`common::virtualization`

Class for managing virtualized servers

## Defined types

### <a name="common--mkdir_p"></a>`common::mkdir_p`

Class for providing `mkdir -p` functionality for a directory

#### Parameters

The following parameters are available in the `common::mkdir_p` defined type:

* [`name`](#-common--mkdir_p--name)

##### <a name="-common--mkdir_p--name"></a>`name`

The path of the directory to create. This parameter is required.

