# Reference

<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

### Classes

* [`rhsm`](#rhsm): Subscribe the node to RHSM

### Resource types

* [`rh_repo`](#rh_repo): Manage Red Hat subscriptions
* [`rh_subscription`](#rh_subscription): Manage Red Hat subscriptions

## Classes

### <a name="rhsm"></a>`rhsm`

rhsm

Subscribe the node to RHSM

Copyright 2014 Ger Apeldoorn, unless otherwise noted.

#### Examples

##### 

```puppet
include rhsm
```

##### 

```puppet
# Hierafile:
---
rhsm::rh_user: myuser
rhsm::rh_password: mypassword
```

#### Parameters

The following parameters are available in the `rhsm` class:

* [`rh_user`](#rh_user)
* [`rh_password`](#rh_password)
* [`org`](#org)
* [`activationkey`](#activationkey)
* [`servername`](#servername)
* [`serverprefix`](#serverprefix)
* [`serverport`](#serverport)
* [`ca_cert_dir`](#ca_cert_dir)
* [`repo_ca_cert_filename`](#repo_ca_cert_filename)
* [`repo_ca_cert_source`](#repo_ca_cert_source)
* [`manage_repos`](#manage_repos)
* [`full_refresh_on_yum`](#full_refresh_on_yum)
* [`proxy_hostname`](#proxy_hostname)
* [`proxy_scheme`](#proxy_scheme)
* [`proxy_port`](#proxy_port)
* [`proxy_user`](#proxy_user)
* [`proxy_password`](#proxy_password)
* [`no_proxy`](#no_proxy)
* [`baseurl`](#baseurl)
* [`package_ensure`](#package_ensure)
* [`enabled_repo_ids`](#enabled_repo_ids)
* [`server_timeout`](#server_timeout)
* [`inotify`](#inotify)
* [`process_timeout`](#process_timeout)
* [`repo_filename`](#repo_filename)
* [`plugin_settings`](#plugin_settings)
* [`package_profile_on_trans`](#package_profile_on_trans)

##### <a name="rh_user"></a>`rh_user`

Data type: `Optional[String[1]]`

User for the Customer Portal.
You need to specify either (rh_user and rh_password) or (org and activationkey)

Default value: ``undef``

##### <a name="rh_password"></a>`rh_password`

Data type: `Optional[String[1]]`

Password for the rh_user account

Default value: ``undef``

##### <a name="org"></a>`org`

Data type: `Optional[String[1]]`

Organization to use

Default value: ``undef``

##### <a name="activationkey"></a>`activationkey`

Data type: `Optional[String[1]]`

Activationkey to use

Default value: ``undef``

##### <a name="servername"></a>`servername`

Data type: `Stdlib::Fqdn`

Servername, default provided
Used directly in rhsm.conf template

Default value: `'subscription.rhsm.redhat.com'`

##### <a name="serverprefix"></a>`serverprefix`

Data type: `Stdlib::Absolutepath`

server.prefix to use
Used directly in rhsm.conf template
/rhsm for Satellite 6
/subscription for RHSM

Default value: `'/subscription'`

##### <a name="serverport"></a>`serverport`

Data type: `Stdlib::Port`

server.port to use
Used directly in rhsm.conf template

Default value: `443`

##### <a name="ca_cert_dir"></a>`ca_cert_dir`

Data type: `Stdlib::Absolutepath`

Server CA certificate location

Default value: `'/etc/rhsm/ca/'`

##### <a name="repo_ca_cert_filename"></a>`repo_ca_cert_filename`

Data type: `String[1]`

File containting the CA cert to use when generating yum repo configs
katello-server-ca.pem for Satellite 6
redhat-uep.pem for RHSM

Default value: `'redhat-uep.pem'`

##### <a name="repo_ca_cert_source"></a>`repo_ca_cert_source`

Data type: `Optional[String[1]]`

URI, if set the content is used for CA file resource ${ca_cert_dir}/${repo_ca_cert_filename}
Possible values are puppet:, file: and http:

Default value: ``undef``

##### <a name="manage_repos"></a>`manage_repos`

Data type: `Integer[0,1]`

1 if subscription manager should manage yum repos file or
0 if the subscription is only used for tracking purposes

Default value: `1`

##### <a name="full_refresh_on_yum"></a>`full_refresh_on_yum`

Data type: `Integer[0,1]`

rhsm.full_refresh_on_yum
Used directly in rhsm.conf template
1 for Satellite 6
0 for RHSM

Default value: `0`

##### <a name="proxy_hostname"></a>`proxy_hostname`

Data type: `Optional[Stdlib::Fqdn]`

Proxy hostname

Default value: ``undef``

##### <a name="proxy_scheme"></a>`proxy_scheme`

Data type: `Enum['http', 'https']`

Proxy scheme

Default value: `'http'`

##### <a name="proxy_port"></a>`proxy_port`

Data type: `Optional[Stdlib::Port]`

Proxy port

Default value: ``undef``

##### <a name="proxy_user"></a>`proxy_user`

Data type: `Optional[String[1]]`

Proxy user

Default value: ``undef``

##### <a name="proxy_password"></a>`proxy_password`

Data type: `Optional[String[1]]`

Proxy password

Default value: ``undef``

##### <a name="no_proxy"></a>`no_proxy`

Data type: `Optional[String[1]]`

no_proxy definition

Default value: ``undef``

##### <a name="baseurl"></a>`baseurl`

Data type: `Stdlib::Httpurl`

Base URL for rhsm, default provided

Default value: `'https://cdn.redhat.com'`

##### <a name="package_ensure"></a>`package_ensure`

Data type: `String[1]`

Whether to install subscription-manager, directly passed to the `ensure` param of the package.

Default value: `'installed'`

##### <a name="enabled_repo_ids"></a>`enabled_repo_ids`

Data type: `Array[String[1]]`

A listing of the Repo IDs to provide to the subscription-manager repo --enable command.

Default value: `[]`

##### <a name="server_timeout"></a>`server_timeout`

Data type: `Integer[0]`

HTTP timeout in seconds

Default value: `180`

##### <a name="inotify"></a>`inotify`

Data type: `Integer[0,1]`

Inotify is used for monitoring changes in directories with certificates. When this directory is mounted using a network
file system without inotify notification support (e.g. NFS), then disabling inotify is strongly recommended.

Default value: `1`

##### <a name="process_timeout"></a>`process_timeout`

Data type: `Integer[0]`

The time in seconds we will allow the rhsmd cron job to run before terminating the process.

Default value: `300`

##### <a name="repo_filename"></a>`repo_filename`

Data type: `Stdlib::Absolutepath`

The name of the repo file subscription-manager uses.

Default value: `'/etc/yum.repos.d/redhat.repo'`

##### <a name="plugin_settings"></a>`plugin_settings`

Data type: `Hash`

Hash of {section => {key => value } } for the yum/dnf plugin.

Default value: `{ 'main' => { 'enabled' => 1 } }`

##### <a name="package_profile_on_trans"></a>`package_profile_on_trans`

Data type: `Integer[0,1]`

Run the package profile on each yum/dnf transaction

Default value: `0`

## Resource types

### <a name="rh_repo"></a>`rh_repo`

Manage Red Hat subscriptions

#### Properties

The following properties are available in the `rh_repo` type.

##### `ensure`

Valid values: `present`, `enabled`, `absent`, `disabled`

Aliases: `"enabled"=>"present", "disabled"=>"absent"`

The basic property that the resource should be in.

#### Parameters

The following parameters are available in the `rh_repo` type.

* [`name`](#name)
* [`provider`](#provider)

##### <a name="name"></a>`name`

namevar


##### <a name="provider"></a>`provider`

The specific backend to use for this `rh_repo` resource. You will seldom need to specify this --- Puppet will usually
discover the appropriate provider for your platform.

### <a name="rh_subscription"></a>`rh_subscription`

Manage Red Hat subscriptions

#### Properties

The following properties are available in the `rh_subscription` type.

##### `ensure`

Valid values: `present`, `absent`

The basic property that the resource should be in.

Default value: `present`

#### Parameters

The following parameters are available in the `rh_subscription` type.

* [`name`](#name)
* [`provider`](#provider)
* [`serial`](#serial)

##### <a name="name"></a>`name`

namevar


##### <a name="provider"></a>`provider`

The specific backend to use for this `rh_subscription` resource. You will seldom need to specify this --- Puppet will
usually discover the appropriate provider for your platform.

##### <a name="serial"></a>`serial`


